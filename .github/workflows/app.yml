# This workflow is deprecated and kept for backward compatibility
# The new CI/CD pipeline is in main.yml
# You can delete this file if you're sure you don't need it

name: App (Legacy)

on:
  workflow_dispatch:
    inputs:
      deploy:
        description: "Force deployment"
        required: false
        type: boolean
        default: false

jobs:
  trigger-main:
    name: Trigger Main Pipeline
    runs-on: ubuntu-latest
    steps:
      - name: Trigger main workflow
        uses: actions/github-script@v7
        with:
          script: |
            github.rest.actions.createWorkflowDispatch({
              owner: context.repo.owner,
              repo: context.repo.repo,
              workflow_id: 'main.yml',
              ref: context.ref,
              inputs: {
                'force-deploy': '${{ github.event.inputs.deploy }}'
              }
            })

